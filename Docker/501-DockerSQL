FROM mcr.microsoft.com/mssql/server:2022-latest
ENV ACCEPT_EULA=Y
ENV MSSQL_PID=Express
ENV MSSQL_SA_PASSWORD=P@55w0rd!123

EXPOSE 1433

CMD ["/opt/mssql/bin/sqlservr"]

# Add a health check
# HEALTHCHECK --interval=10s --timeout=10s --start-period=30s --retries=3 \ 
# CMD /opt/mssql-tools/bin/sqlcmd -U sa -P P@55w0rd!123 -Q "SELECT 1"